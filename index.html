<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Smolder by sky-shiny</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Smolder</h1>
      <h2 class="project-tagline">Simple rest smoke testing.</h2>
      <a href="https://github.com/sky-shiny/smolder" class="btn">View on GitHub</a>
      <a href="https://github.com/sky-shiny/smolder/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/sky-shiny/smolder/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="smolder" class="anchor" href="#smolder" aria-hidden="true"><span class="octicon octicon-link"></span></a>Smolder</h1>

<p><a href="https://travis-ci.org/sky-shiny/smolder"><img src="https://travis-ci.org/sky-shiny/smolder.svg" alt="Build Status"></a></p>

<ul>
<li>Smoke test your rest API.</li>
<li>Validate response times.</li>
<li>Validate redirects.</li>
<li>Validate ssl certificates.</li>
<li>Validate headers.</li>
<li>More</li>
</ul>

<h1>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h1>

<pre><code>pip install git+git://github.com/sky-shiny/smolder.git
</code></pre>

<h1>
<a id="example" class="anchor" href="#example" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h1>

<pre><code>$&gt; smolder-cli status.github.com examples/github_status.json

Success connecting to status.github.com on port 80
Preparing to execute 2 tests

------------------------------------ Github Status -------------------------------
                               http://status.github.com:80/
----------------------------------------------------------------------------------

curl -v -s -o /dev/null -H "User-Agent: Smolder smoke test library"  -X GET "http://status.github.com:80/"
Request took 227ms
Status code == 301 and redirect == https://status.github.com/ ............. [PASS]

------------------------------------ Github Status -------------------------------
                              https://status.github.com:443/
----------------------------------------------------------------------------------

curl -v -s -o /dev/null -H "User-Agent: Smolder smoke test library"  -X GET "https://status.github.com:443/"
Request took 541ms
Status code == 200 ........................................................ [PASS]
Body contains "All systems operational" ................................... [PASS]
Response time was 341ms longer than 200ms max (541ms) ..................... [FAIL]
FOUND 1 FAILURES IN 4 TESTS
</code></pre>

<p>Example <a href="https://github.com/sky-shiny/smolder/blob/master/examples/README.md">Readme</a></p>

<h1>
<a id="what-it-does" class="anchor" href="#what-it-does" aria-hidden="true"><span class="octicon octicon-link"></span></a>What it does</h1>

<p>It wraps the "requests" python library inserting headers, authentication etc and
making your requests to a host: provided as a command line argument.</p>

<p>It checks the response from the server for expected status-codes/body/header/dpath-json
contents and passes or fails the test based on definition.</p>

<p>Can be used to specify and pass/fail on performance of api response.</p>

<p>A copy/paste curl equivalent of the request is included in the output for
convenience.</p>

<p>Easily introduced into a CI/CD deploy pipeline.</p>

<p>Without --force, any API requests that are not GET's will be skipped as a safety
mechanism to ensure we're not overwriting or creating data unconciously.</p>

<h1>
<a id="request-options" class="anchor" href="#request-options" aria-hidden="true"><span class="octicon octicon-link"></span></a>Request Options</h1>

<table>
<thead>
<tr>
<th>Request Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name *</td>
<td>name for the test</td>
</tr>
<tr>
<td>protocol *</td>
<td>tcp, http, https or noop</td>
</tr>
<tr>
<td>port *</td>
<td>0 - 65535</td>
</tr>
<tr>
<td>url</td>
<td>/url/path/to/resource.json</td>
</tr>
<tr>
<td>method</td>
<td>GET, POST, PUT, DELETE, OPTION</td>
</tr>
<tr>
<td>request_headers (recommended)</td>
<td>header object to append to requests instansiation.  The host header is probably the most likely requirement.</td>
</tr>
<tr>
<td>username</td>
<td>basic auth username</td>
</tr>
<tr>
<td>password</td>
<td>basic auth password</td>
</tr>
<tr>
<td>cookie</td>
<td>cookie object to append to requests instansiation</td>
</tr>
<tr>
<td>data</td>
<td>data for POST or PUT.</td>
</tr>
<tr>
<td>validate_cert</td>
<td>Should we verify the ssl cert when making an https request?  Defaults to False.</td>
</tr>
</tbody>
</table>

<p>*: required</p>

<h1>
<a id="response-options" class="anchor" href="#response-options" aria-hidden="true"><span class="octicon octicon-link"></span></a>Response Options</h1>

<table>
<thead>
<tr>
<th>Response Test Options</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>response_body_contains</td>
<td>PASS if string in body.</td>
</tr>
<tr>
<td>response_body_doesnt_contain</td>
<td>FAIL if string in body.</td>
</tr>
<tr>
<td>response_max_time_ms</td>
<td>FAIL if response takes longer than int.</td>
</tr>
<tr>
<td>response_json_contains</td>
<td>FAIL if json response at path doesn't match.</td>
</tr>
<tr>
<td>expect_status_code</td>
<td>FAIL if response status code differs from int.</td>
</tr>
<tr>
<td>response_redirect</td>
<td>FAIL if string not in response location header.</td>
</tr>
<tr>
<td>response_headers</td>
<td>FAIL if the headers received from the request doesn't contain the list of headers provided.</td>
</tr>
<tr>
<td>response_header_values</td>
<td>FAIL if the <em>values</em> of the headers in the test don't match the values in the response.</td>
</tr>
<tr>
<td>show_body</td>
<td>output the body to stdout.</td>
</tr>
</tbody>
</table>

<h1>
<a id="thanks" class="anchor" href="#thanks" aria-hidden="true"><span class="octicon octicon-link"></span></a>Thanks</h1>

<p><a href="https://github.com/njsaunders">https://github.com/njsaunders</a></p>

<p><a href="https://github.com/nielsdraaisma">https://github.com/nielsdraaisma</a></p>

<p><a href="https://github.com/lotia">https://github.com/lotia</a></p>

<p><a href="https://github.com/casibbald">https://github.com/casibbald</a></p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/sky-shiny/smolder">Smolder</a> is maintained by <a href="https://github.com/sky-shiny">sky-shiny</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>

